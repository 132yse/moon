/**
 * Moon v1.0.0-alpha
 * Copyright 2016-2018 Kabir Shah
 * Released under the MIT License
 * https://kbrsh.github.io/moon
 */
!function(e,n){"undefined"==typeof module?e.Moon=n():module.exports=n()}(this,function(){"use strict";var d,e={silent:!0},m=/"[^"]*"|'[^']*'|\d+[a-zA-Z$_]\w*|\.[a-zA-Z$_]\w*|[a-zA-Z$_]\w*:|([a-zA-Z$_]\w*)/g,a=/(?:(?:&(?:amp|gt|lt|nbsp|quot);)|"|\\|\n)/g,u={"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'\\"',"\\":"\\\\",'"':'\\"',"\n":"\\n"},p=function(e,n){n[n.length-1].children.push(e)},c=function(e,n,t){for(;e<t;){var r=n[e],i=n[e+1],o=n[e+2];if("<"===r&&"!"===i&&"-"===o&&"-"===n[e+3])e=c(e+4,n,t);else{if("-"===r&&"-"===i&&">"===o){e+=3;break}e+=1}}return e},f=function(e,n,t,r){for(var i="";e<t;e++){var o=n[e];if(">"===o){var a={index:d++,type:i,children:[]};p(a,r),r.push(a),e+=1;break}if("/"===o&&">"===n[e+1]){p({index:d++,type:i,children:[]},r),e+=2;break}i+=o}return e},l=function(e,n,t,r){for(;e<t;e++){var i=n[e];if(">"===i){e+=1;break}i}var o=r.pop();return o.type,e},s=function(e,n,t,r){for(var i="";e<t;e++){var o=n[e];if("<"===o||"{"===o)break;i+=o}return p({index:d++,type:"m-text",content:i.replace(a,function(e){return u[e]})},r),e},v=function(e,n,t,r,i,o){for(var a,u="";e<t;e++){var c=n[e];if("}"===c){e+=1;break}u+=c}for(;null!==(a=m.exec(u));){var f=a[1];void 0!==f&&-1===o.indexOf(f)&&i.push(f)}return p({index:d++,type:"m-expression",content:u},r),e},t=function(e){switch(e.type){case"m-fragment":return e.children.map(t).join("");case"m-text":return"m["+e.index+'] = document.createTextNode("'+e.content+'");';default:return e.children.map(t).join("")+"m["+e.index+'] = document.createElement("'+e.type+'");'}},h=function(e,r){var i="";switch(e.type){case"m-fragment":for(var o=e.children,n=function(e){var n=o[e],t="m["+n.index+"]";"m-text"!==n.type&&(i+=n.children.map(function(e){return h(e,t)}).join("")),i+=r+".parentNode.insertBefore("+t+", "+r+");"},t=0;t<o.length;t++)n(t);break;default:var a="m["+e.index+"]";"m-text"!==e.type&&(i+=e.children.map(function(e){return h(e,a)}).join("")),i+=r+".appendChild("+a+");"}return i},r=function(e){return n=function(e){for(var n=e.length,t=[],r=["NaN","false","in","instance","m","null","true","typeof","undefined"],i={type:"m-fragment",children:[],dependencies:t},o=[i],a=d=0;a<n;){var u=e[a];a="<"===u?"!"===e[a+1]&&"-"===e[a+2]&&"-"===e[a+3]?c(a+4,e,n):"/"===e[a+1]?l(a+2,e,n,o):f(a+1,e,n,o):"{"===u?v(a+1,e,n,o,t,r):s(a,e,n,o)}return i}(e),new Function("return [function () {var m = this.m;"+t(n)+"}, function (root) {var m = this.m;"+h(n,"root")+"}, function () {var m = this.m;"+void 0+"}]")();var n};function n(e,n){"string"==typeof e&&(e=document.querySelector(e)),"string"==typeof n&&(n=r(n));var t={name:"@",data:{},create:n[0],mount:n[1],update:n[2],m:[]};return t.create(),t.mount(e),e.parentNode.removeChild(e),t}return n.extend=function(e,n,t){"string"==typeof n&&(n=r(n))},n.compile=r,n.config=e,n});