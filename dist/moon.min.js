/**
 * Moon v1.0.0-alpha
 * Copyright 2016-2018 Kabir Shah
 * Released under the MIT License
 * https://kbrsh.github.io/moon
 */
!function(e,n){"undefined"==typeof module?e.Moon=n():module.exports=n()}(this,function(){"use strict";var d,e={silent:!0},p=/"[^"]*"|'[^']*'|\d+[a-zA-Z$_]\w*|\.[a-zA-Z$_]\w*|[a-zA-Z$_]\w*:|([a-zA-Z$_]\w*)/g,a=/(?:(?:&(?:amp|gt|lt|nbsp|quot);)|"|\\|\n)/g,u={"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'\\"',"\\":"\\\\",'"':'\\"',"\n":"\\n"},m=function(e,n){n[n.length-1].children.push(e)},f=function(e,n,t){for(;e<t;){var r=n[e],i=n[e+1],o=n[e+2];if("<"===r&&"!"===i&&"-"===o&&"-"===n[e+3])e=f(e+4,n,t);else{if("-"===r&&"-"===i&&">"===o){e+=3;break}e+=1}}return e},c=function(e,n,t,r){for(var i="";e<t;e++){var o=n[e];if(">"===o){var a={index:d++,type:i,children:[]};m(a,r),r.push(a),e+=1;break}if("/"===o&&">"===n[e+1]){m({index:d++,type:i,children:[]},r),e+=2;break}i+=o}return e},l=function(e,n,t,r){for(;e<t;e++){var i=n[e];if(">"===i){e+=1;break}i}var o=r.pop();return o.type,e},s=function(e,n,t,r){for(var i="";e<t;e++){var o=n[e];if("<"===o||"{"===o)break;i+=o}return m({index:d++,type:"m-text",content:i.replace(a,function(e){return u[e]})},r),e},v=function(e,n,t,r,i,o){for(var a,u="";e<t;e++){var f=n[e];if("}"===f){e+=1;break}u+=f}for(;null!==(a=p.exec(u));){var c=a[1];void 0!==c&&-1===o.indexOf(c)&&i.push(c)}return m({index:d++,type:"m-expression",content:u},r),e},t=function(e){if(Array.isArray(e))return e.map(t).join("");switch(e.type){case"m-text":return"m["+e.index+'] = document.createTextNode("'+e.content+'");';default:return e.children.map(t).join("")+"m["+e.index+'] = document.createElement("'+e.type+'");'}},h=function(r,i){var o="";if(Array.isArray(r))for(var e=function(e){var n=r[e],t="m["+n.index+"]";"m-text"!==n.type&&(o+=n.children.map(function(e){return h(e,t)}).join("")),o+=i+".parentNode.insertBefore("+t+", "+i+");"},n=0;n<r.length;n++)e(n);else{var t="m["+r.index+"]";"m-text"!==r.type&&(o+=r.children.map(function(e){return h(e,t)}).join("")),o+=i+".appendChild("+t+");"}return o},r=function(e){return n=function(e){for(var n=e.length,t=[],r=["NaN","false","in","instance","m","null","true","typeof","undefined"],i={type:"@",children:[],dependencies:t},o=[i],a=d=0;a<n;){var u=e[a];a="<"===u?"!"===e[a+1]&&"-"===e[a+2]&&"-"===e[a+3]?f(a+4,e,n):"/"===e[a+1]?l(a+2,e,n,o):c(a+1,e,n,o):"{"===u?v(a+1,e,n,o,t,r):s(a,e,n,o)}return i}(e),new Function("return [function () {var m = this.m;"+t(n)+"}, function (root) {var m = this.m;"+h(n,"root")+"}, function () {var m = this.m;"+void 0+"}]")();var n};function n(e,n){"string"==typeof e&&(e=document.querySelector(e)),"string"==typeof n&&(n=r(n));var t={name:"@",data:{},create:n[0],mount:n[1],update:n[2],m:[]};return t.create(),t.mount(e),e.parentNode.removeChild(e),t}return n.extend=function(e,n,t){"string"==typeof n&&(n=r(n))},n.compile=r,n.config=e,n});